<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Hidden Gems Tour Generator</title>
</head>
<body>
    <div class="container">
        <img id="tohuLogo" src="https://i.ibb.co/0RqCZ25d/Chat-GPT-Image-Jul-26-2025-03-15-12-PM.png" alt="Tohu Logo">
        <p class="subtitle text-center mb-6">
            Discover your destination, get a custom tour beyond the guidebook
        </p>

        <!-- New Tour Button (hidden by default) -->
        <div id="newTourBtn" class="new-tour-btn-container hidden">
        </div>

        <div id="inputSectionContainer" class="input-section-container">
            <label for="locationInput" class="input-label">
                Where would you like your hidden gems tour to be?
            </label>
            <div class="input-with-icon">
                <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
                </svg>
                <input type="text" id="locationInput" class="input-field" placeholder="üìç e.g., Bloomsbury, London" value="Hobsonville Point, Auckland, NZ">
            </div>

            <!-- Toggle Buttons -->
            <!-- Tour Length Slider -->
            <div class="slider-group">
                <div class="slider-header">
                    <div class="slider-title">Tour Length</div>
                </div>
                <input type="range" id="tourLengthSlider" min="1" max="10" value="5" list="tickmarks">
                <datalist id="tickmarks">
                    <option value="1" label="Short"></option>
                    <option value="5" label="Medium"></option>
                    <option value="10" label="Long"></option>
                </datalist>
            </div>

            <!-- Advanced Options -->
            <details class="details-container">
                <summary class="details-summary">Advanced Tour Preferences</summary>
                <div class="toggle-buttons-container">
                    <div class="toggle-buttons-grid">
                        <button type="button" class="toggle-btn" data-toggle="cafe">
                            <span class="toggle-icon">‚òï</span>
                            <span class="toggle-label">Cafe</span>
                        </button>
                        <button type="button" class="toggle-btn" data-toggle="biking">
                            <span class="toggle-icon">üö¥</span>
                            <span class="toggle-label">Biking</span>
                        </button>
                        <button type="button" class="toggle-btn" data-toggle="celebs">
                            <span class="toggle-icon">‚≠ê</span>
                            <span class="toggle-label">Celebs</span>
                        </button>
                        <button type="button" class="toggle-btn" data-toggle="pub">
                            <span class="toggle-icon">üç∫</span>
                            <span class="toggle-label">Pub</span>
                        </button>
                        <button type="button" class="toggle-btn" data-toggle="driving">
                            <span class="toggle-icon">üöó</span>
                            <span class="toggle-label">Driving</span>
                        </button>
                        <button type="button" class="toggle-btn" data-toggle="history">
                            <span class="toggle-icon">üèõÔ∏è</span>
                            <span class="toggle-label">History</span>
                        </button>
                    </div>
                </div>
            </details>

            <button id="generateTourBtn" class="btn w-full flex items-center justify-center">
                <span id="buttonText">Generate Tour</span>
                <span id="loadingSpinner" class="loading-spinner hidden"></span>
            </button>
            <div id="errorMessage" class="error-message hidden mt-4"></div>
            <div id="infoMessage" class="info-message hidden mt-4"></div>
        </div>

        <div id="tourOutput" class="hidden">
            <h2 id="tourTitle" class="text-center"></h2>
            
            <!-- All Navigation Buttons -->
            <div class="tour-top-navigation">
                <button id="viewMapBtn" class="btn">
                    <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
                    </svg>
                    View Map
                </button>
                <a href="#tourIntro" class="btn">
                    Start Tour
                </a>
                <a href="#tourStopsContainer" class="btn">
                    View Stops
                </a>
                <button class="btn new-tour-nav-btn">
                    <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
                    </svg>
                    New Tour
                </button>
            </div>

            <!-- Tour Summary Section -->
            <div class="tour-summary-section">
                <div class="tour-summary-item">
                    <div class="item-icon">‚è±Ô∏è</div>
                    <strong>Approx. Duration</strong>
                    <span id="summaryDuration"></span>
                </div>
                <div class="tour-summary-item">
                    <div class="item-icon">üö∂</div>
                    <strong>Total Distance</strong>
                    <span id="summaryDistance"></span>
                </div>
                <div class="tour-summary-item tour-summary-starting-point">
                    <div class="item-icon">üìç</div>
                    <strong>Starting Point</strong>
                    <span id="summaryStartingPoint"></span>
                </div>
                <div class="tour-summary-notable-stops">
                    <strong>Stops</strong>
                    <ul id="summaryNotableStops"></ul>
                </div>
            </div>

            <div class="tour-section">
                <h2 class="mt-4" id="tourIntroSection">Introduction</h2>
                <p id="tourIntro"></p>
            </div>

            <div id="tourStopsContainer">
                <!-- Tour stops will be dynamically added here -->
            </div>

            <div class="tour-section">
                <h2 id="tourConclusion">Conclusion</h2>
                <p id="tourConclusion"></p>
            </div>
        </div>

        <!-- Map Container -->
        <div id="mapContainer" class="hidden">
            <div class="text-center mb-4">
                <button id="backToTourBtn" class="btn">
                    <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                    Back to Tour
                </button>
            </div>
            <div id="map"></div>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="loading-screen hidden">
            <div class="loading-content">
                <div class="loading-animation">
                    <div class="discovery-orb"></div>
                </div>
                <h2 class="loading-title">Crafting Your Adventure...</h2>
                <p id="loadingMessage" class="loading-message">Putting on our explorer hat...</p>
            </div>
        </div>

        <!-- Debug info (hidden by default) -->
    </div>
    
    <!-- Google Maps JavaScript API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJ4MO0ke4jgEFq7f27KWyeg9_ehPR7xME&libraries=places,geometry"></script>
    <script type="module" src="src/main.js"></script>
</body>
</html>

<!-- Debug Panel -->
<div id="debugPanel" class="debug-panel">
    <button id="debugToggleBtn" class="debug-toggle-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 5l7 7-7 7"/>
        </svg>
    </button>
    <div class="debug-panel-content">
        <h4>Debug Information</h4>
        <div class="debug-section">
            <h5>Quick Access:</h5>
            <p style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 1rem;">
                ‚Ä¢ Press <kbd>Ctrl+D</kbd> to toggle<br>
                ‚Ä¢ Triple-click logo to open<br>
                ‚Ä¢ Click the green DEBUG button
            </p>
        </div>
        <div class="debug-section">
            <h5>Raw Response:</h5>
            <pre id="debugContent">No debug data available yet. Generate a tour to see the raw API response.</pre>
        </div>
        <div class="debug-section">
            <h5>Generated Prompt:</h5>
            <pre id="promptContent">No prompt data available yet. Generate a tour to see the prompt sent to the API.</pre>
        </div>
        <div class="debug-section">
            <h5>Debug Pages:</h5>
            <div class="debug-links-panel">
                <a href="index.html">üîç Search</a>
                <a href="loading-screen.html">‚è≥ Loading Screen</a>
                <a href="dummy-tour.html">üéØ Dummy Tour Page</a>
            </div>
        </div>
    </div>
</div>

<!-- Simple Debug Button (always visible) -->
<div style="position: fixed; top: 20px; right: 20px; z-index: 1002;">
    <button id="simpleDebugBtn" style="
        background: var(--tohu-green-600);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    " onmouseover="this.style.background='var(--tohu-green-700)'" onmouseout="this.style.background='var(--tohu-green-600)'">
        üêõ DEBUG
    </button>
</div>
</body>
</html>
